# 트랜잭션

- 데이터베이스의 상태를 변화시키기 위해 수행하는 작업의 단위
  - SELECT, INSERT, DELETE, UPDATE
- 사용자가 시스템에 대한 서비스 요구 시 시스템이 응답하기 위한 상태 변호나 과정의 작업 단위
- 데이터베이스 작업의 논리적 단위
- 하나의 트랜잭션은 Commit 되거나 Rollback 될 수 있음

# 이유

- 작업 처리의 안정성 확보
- 오류에 대한 무결성

# 트랜잭션 특징

- 4가지 특징이 존재
  - 원자성
    - 트랜잭션이 DB에 모두 반영되거나, 아니면 전혀 반영되지 않거나.
    - All or Nothing
  - 일관성
    - 트랜잭션 작업 처리의 결과가 항상 일관되어야 함
    - 데이터 타입이 반환 후와 전이 항상 동일해야 함
  - 독립성
    - 하나의 트랜잭션은 다른 트랜잭션에 끼어들 수 없고 마찬가지로 독립적임
    - 트랜잭션 끼리는 서로 간섭 불가
  - 지속성
    - 트랜잭션이 성공적으로 완료되면 영구적으로 결과에 반영되어야 함
    - commit 이 된다면 지속성이 보장

# 트랜잭션의 Commit, Rollback

- commit
  - 하나의 트랜잭션이 성공적으로 끝남
  - 데이터베이스가 일관성있는 상태에 있음
- rollback
  - 하나의 트랜잭션 처리가 비정상적으로 종료
  - 트랜잭션의 원자성이 깨짐
  - 트랜잭션을 다시 시작하거나 부분적으로 변경된 결과를 취소

# 트랜잭션 상태

- Active
  - 트랜잭션이 현재 실행 중인 상태
- Failed
  - 트랜잭이 실행되다 오류가 발생해서 중단된 상태
- Aborted
  - 브랜잭션이 비정상 종료되어 Rollback 이 수행된 상태
- Partially Committed
  - 트랜잭션의 연산이 마지막까지 실행되고 Commit이 되기 직전 상태
- Committed
  - 트랜잭션이 성공적으로 종료되어 Commit 연산을 실행한 후의 상태

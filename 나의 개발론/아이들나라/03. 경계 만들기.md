# 1. 경계 만들기

첫째로 의존성을 잘 제어하기 위해서는 경계를 잘 설정해야 합니다.

MVC 나 MVVN, Present & Container 그리고 layered architecture 나 hexagonal architecture 도 모두 경계를 설정하기 위한 다양한 방법들입니다.

이 개념과 아키텍처 기술을 의존성 관점에서 본다면 모두 각각의 모듈 혹은 레이어가 하나의 책임만을 갖고 그 책임에 주어진 역할을 충실하게 책임지기 위해서 입니다.

이제 조금 더 실용적인 관점에서 알아보겠습니다

## 경계를 어떻게 인식할 것인가

- 경계를 인식하기 위해서는 여러 방법이 있겠지만 첫째로 변화의 흐름에 대해서 이해해야 합니다
  - 변화의 주기 혹은 변화의 속도가 비슷한 것들은 비슷한 곳으로 위치시킵니다.
- 응집성에 따라서 경계를 나눕니다
- 고수준 모듈과 저수준 모듈을 정의합니다
  - 고수준 모듈
  - 저수준 모듈
- gradle module 을 이용해서 강제로 모듈에 대한 접근을 제한할 수도 있습니다
- 경계는 내부에서 일반적으로 문맥을 갖게 됩니다
  - 문맥에 따라서 동일한 도메인이라도 다르게 해석되어야 합니다

## 경계 안에서 해야할 일은 무엇인가

- 일단 경계를 만들었다면 한가지를 기억해야 합니다.
  - 바로 일관성입니다.
- 경계를 통해서 구획을 정하면 해당 구획 내에서 발생하는 일들에 대해서는 구획 내의 모듈들이 여러 협력을 통해서 일관성을 책임져야 합니다.

## 경계는 명확하고 명시적이어야 합니다

- 경계는 일관성을 책임져야 하기 때문에 그 경계가 명확해야 합니다
  - 언어적으로도 명확해야 하고,
  - 내가 만드는 코드를 이타적으로 짜야합니다
    - 누군가가 보더라도 경계로 인식할 수 있도록 해야합니다.
    - User 가 아닌 SubscribingUser

## 경계 안에서 주의해야할 점

- 경계 밖에서 일어나는 일들 때문에 구획 내에 존재하는 모델의 초점이 흐려지거나 혼란스러워지면 안됩니다
  - 경계 밖의 지식이 경계 내부로 들어오지 않도록 조심해야 합니다.

# subscription 에서는 ?

- 아키텍처 수준의 경계
  - subscription 은 다음과 같은 경계가 존재함
    - subscription / billing / payment
- 코드 레벨의 경계
  - layered architecture 를 사용하여 코드 레벨의 경계를 설정
    - 변하지 않는 개념을 domain 레이어에 위치시킴
    - 변하는 개념을 application 레이어에 위치시킴
- 경계의 강화
  - gradle multi module
